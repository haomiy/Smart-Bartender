

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>class I2C – a two-wire serial protocol &mdash; MicroPython 1.9.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
  

  
    <link rel="top" title="MicroPython 1.9.4 documentation" href="../index.html"/>
        <link rel="up" title="MicroPython libraries" href="index.html"/>
        <link rel="next" title="class LED – LED object" href="pyb.LED.html"/>
        <link rel="prev" title="class ExtInt – configure I/O pins to interrupt on external events" href="pyb.ExtInt.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> MicroPython
          

          
            
            <img src="../_static/web-logo-sticky.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.9.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/quickref.html">Quick reference for the openmvcam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/general.html">General information about the openmvcam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/tutorial/index.html">OpenMV Cam Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MicroPython libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#python-standard-libraries-and-micro-libraries">Python standard libraries and micro-libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#micropython-specific-libraries">MicroPython-specific libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#libraries-specific-to-the-openmv-cam">Libraries specific to the OpenMV Cam</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pyb.html"><code class="docutils literal"><span class="pre">pyb</span></code> &#8212; functions related to the board</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pyb.html#time-related-functions">Time related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyb.html#reset-related-functions">Reset related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyb.html#interrupt-related-functions">Interrupt related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyb.html#power-related-functions">Power related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyb.html#miscellaneous-functions">Miscellaneous functions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="pyb.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pyb.ADC.html">class ADC &#8211; analog to digital conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.CAN.html">class CAN &#8211; controller area network communication bus</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.DAC.html">class DAC &#8211; digital to analog conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.ExtInt.html">class ExtInt &#8211; configure I/O pins to interrupt on external events</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">class I2C &#8211; a two-wire serial protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#constructors">Constructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constants">Constants</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pyb.LED.html">class LED &#8211; LED object</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Pin.html">class Pin &#8211; control I/O pins</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Pin.html#class-pinaf-pin-alternate-functions">class PinAF &#8211; Pin Alternate Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.RTC.html">class RTC &#8211; real time clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Servo.html">class Servo &#8211; 3-wire hobby servo driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.SPI.html">class SPI &#8211; a master-driven serial protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Timer.html">class Timer &#8211; control internal timers</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Timer.html#class-timerchannel-setup-a-channel-for-a-timer">class TimerChannel &#8212; setup a channel for a timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.UART.html">class UART &#8211; duplex serial communication bus</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.USB_VCP.html">class USB_VCP &#8211; USB virtual comm port</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.time.html"><code class="docutils literal"><span class="pre">time</span></code> &#8212; tracking elapsed time</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.sensor.html"><code class="docutils literal"><span class="pre">sensor</span></code> &#8212; camera sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html"><code class="docutils literal"><span class="pre">image</span></code> &#8212; machine vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-haarcascade-feature-descriptor">class HaarCascade &#8211; Feature Descriptor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-similarity-similarity-object">class Similarity &#8211; Similarity Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-histogram-histogram-object">class Histogram &#8211; Histogram Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-percentile-percentile-object">class Percentile &#8211; Percentile Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-threshold-threshold-object">class Threshold &#8211; Threshold Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-statistics-statistics-object">class Statistics &#8211; Statistics Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-blob-blob-object">class Blob &#8211; Blob object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-line-line-object">class Line &#8211; Line object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-circle-circle-object">class Circle &#8211; Circle object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-rect-rectangle-object">class Rect &#8211; Rectangle Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-qrcode-qrcode-object">class QRCode &#8211; QRCode object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-apriltag-apriltag-object">class AprilTag &#8211; AprilTag object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-datamatrix-datamatrix-object">class DataMatrix &#8211; DataMatrix object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-barcode-barcode-object">class BarCode &#8211; BarCode object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-displacement-displacement-object">class Displacement &#8211; Displacement object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-kptmatch-keypoint-object">class kptmatch &#8211; Keypoint Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-imagewriter-imagewriter-object">class ImageWriter &#8211; ImageWriter object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-imagereader-imagereader-object">class ImageReader &#8211; ImageReader object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-image-image-object">class Image &#8211; Image object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.nn.html"><code class="docutils literal"><span class="pre">nn</span></code> &#8212; neural networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.nn.html#class-nn-class-nn-dection-result">class nn_class &#8211; nn dection result</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.nn.html#class-net-neural-network">class Net &#8211; Neural Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.gif.html"><code class="docutils literal"><span class="pre">gif</span></code> &#8212; gif recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.gif.html#class-gif-gif-recorder">class Gif &#8211; Gif recorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.mjpeg.html"><code class="docutils literal"><span class="pre">mjpeg</span></code> &#8212; mjpeg recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.mjpeg.html#class-mjpeg-mjpeg-recorder">class Mjpeg &#8211; Mjpeg recorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.lcd.html"><code class="docutils literal"><span class="pre">lcd</span></code> &#8212; lcd shield driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.fir.html"><code class="docutils literal"><span class="pre">fir</span></code> &#8212; thermopile shield driver (fir == far infrared)</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.tv.html"><code class="docutils literal"><span class="pre">tv</span></code> &#8212; tv shield driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.cpufreq.html"><code class="docutils literal"><span class="pre">cpufreq</span></code> &#8212; CPU Frequency Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.omv.html"><code class="docutils literal"><span class="pre">omv</span></code> &#8212; OpenMV Cam Information</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">The MicroPython language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">MicroPython license information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">MicroPython</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">MicroPython libraries</a> &raquo;</li>
      
    <li>class I2C &#8211; a two-wire serial protocol</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/library/pyb.I2C.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-i2c-a-two-wire-serial-protocol">
<span id="pyb-i2c"></span><h1>class I2C &#8211; a two-wire serial protocol<a class="headerlink" href="#class-i2c-a-two-wire-serial-protocol" title="Permalink to this headline">¶</a></h1>
<p>I2C is a two-wire protocol for communicating between devices.  At the physical
level it consists of 2 wires: SCL and SDA, the clock and data lines respectively.
OpenMV Cam does not provide Pullups on the SDA or SCL lines and external pullups
are required on both SDA and SCL lines for the I2C bus to be functional.</p>
<p>I2C objects are created attached to a specific bus.  They can be initialised
when created, or initialised later on.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyb</span> <span class="kn">import</span> <span class="n">I2C</span>

<span class="n">i2c</span> <span class="o">=</span> <span class="n">I2C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                         <span class="c"># create on bus 2</span>
<span class="n">i2c</span> <span class="o">=</span> <span class="n">I2C</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">I2C</span><span class="o">.</span><span class="n">MASTER</span><span class="p">)</span>             <span class="c"># create and init as a master</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">I2C</span><span class="o">.</span><span class="n">MASTER</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">20000</span><span class="p">)</span> <span class="c"># init as a master</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">I2C</span><span class="o">.</span><span class="n">SLAVE</span><span class="p">,</span> <span class="n">addr</span><span class="o">=</span><span class="mh">0x42</span><span class="p">)</span>       <span class="c"># init as a slave with given address</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>                         <span class="c"># turn off the peripheral</span>
</pre></div>
</div>
<p>Printing the i2c object gives you information about its configuration.</p>
<p>The basic methods are send and recv:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">i2c</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>      <span class="c"># send 3 bytes</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="mh">0x42</span><span class="p">)</span>       <span class="c"># send a single byte, given by the number</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">i2c</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>   <span class="c"># receive 3 bytes</span>
</pre></div>
</div>
<p>To receive inplace, first create a bytearray:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c"># create a buffer</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>       <span class="c"># receive 3 bytes, writing them into data</span>
</pre></div>
</div>
<p>You can specify a timeout (in ms):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">i2c</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>   <span class="c"># timeout after 2 seconds</span>
</pre></div>
</div>
<p>A master must specify the recipient&#8217;s address:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">i2c</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">I2C</span><span class="o">.</span><span class="n">MASTER</span><span class="p">)</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="mh">0x42</span><span class="p">)</span>        <span class="c"># send 3 bytes to slave with address 0x42</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;456&#39;</span><span class="p">,</span> <span class="n">addr</span><span class="o">=</span><span class="mh">0x42</span><span class="p">)</span>  <span class="c"># keyword for address</span>
</pre></div>
</div>
<p>Master also has other methods:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">i2c</span><span class="o">.</span><span class="n">is_ready</span><span class="p">(</span><span class="mh">0x42</span><span class="p">)</span>           <span class="c"># check if slave 0x42 is ready</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>                   <span class="c"># scan for slaves on the bus, returning</span>
                             <span class="c">#   a list of valid addresses</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">mem_read</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mh">0x42</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>     <span class="c"># read 3 bytes from memory of slave 0x42,</span>
                             <span class="c">#   starting at address 2 in the slave</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">mem_write</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="mh">0x42</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># write &#39;abc&#39; (3 bytes) to memory of slave 0x42</span>
                                            <span class="c"># starting at address 2 in the slave, timeout after 1 second</span>
</pre></div>
</div>
<div class="section" id="constructors">
<h2>Constructors<a class="headerlink" href="#constructors" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyb.pyb.I2C">
<em class="property">class </em><code class="descclassname">pyb.</code><code class="descname">I2C</code><span class="sig-paren">(</span><em>bus</em>, <em>...</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.pyb.I2C" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an I2C object on the given bus.  <code class="docutils literal"><span class="pre">bus</span></code> can be 2 or 4.
With no additional parameters, the I2C object is created but not
initialised (it has the settings from the last initialisation of
the bus, if any).  If extra arguments are given, the bus is initialised.
See <code class="docutils literal"><span class="pre">init</span></code> for parameters of initialisation.</p>
<p>The physical pins of the I2C busses on the OpenMV Cam M4 are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">I2C(2)</span></code> is on the Y position: <code class="docutils literal"><span class="pre">(SCL,</span> <span class="pre">SDA)</span> <span class="pre">=</span> <span class="pre">(P4,</span> <span class="pre">P5)</span> <span class="pre">=</span> <span class="pre">(PB10,</span> <span class="pre">PB11)</span></code></li>
</ul>
</div></blockquote>
<p>The physical pins of the I2C busses on the OpenMV Cam M7 are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">I2C(2)</span></code> is on the Y position: <code class="docutils literal"><span class="pre">(SCL,</span> <span class="pre">SDA)</span> <span class="pre">=</span> <span class="pre">(P4,</span> <span class="pre">P5)</span> <span class="pre">=</span> <span class="pre">(PB10,</span> <span class="pre">PB11)</span></code></li>
<li><code class="docutils literal"><span class="pre">I2C(4)</span></code> is on the Y position: <code class="docutils literal"><span class="pre">(SCL,</span> <span class="pre">SDA)</span> <span class="pre">=</span> <span class="pre">(P7,</span> <span class="pre">P8)</span> <span class="pre">=</span> <span class="pre">(PD12,</span> <span class="pre">PD13)</span></code></li>
</ul>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="pyb.I2C.deinit">
<code class="descclassname">I2C.</code><code class="descname">deinit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.deinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn off the I2C bus.</p>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.init">
<code class="descclassname">I2C.</code><code class="descname">init</code><span class="sig-paren">(</span><em>mode</em>, <em>*</em>, <em>addr=0x12</em>, <em>baudrate=400000</em>, <em>gencall=False</em>, <em>dma=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the I2C bus with the given parameters:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">mode</span></code> must be either <code class="docutils literal"><span class="pre">I2C.MASTER</span></code> or <code class="docutils literal"><span class="pre">I2C.SLAVE</span></code></li>
<li><code class="docutils literal"><span class="pre">addr</span></code> is the 7-bit address (only sensible for a slave)</li>
<li><code class="docutils literal"><span class="pre">baudrate</span></code> is the SCL clock rate (only sensible for a master)</li>
<li><code class="docutils literal"><span class="pre">gencall</span></code> is whether to support general call mode</li>
<li><code class="docutils literal"><span class="pre">dma</span></code> is whether to allow the use of DMA for the I2C transfers (note
that DMA transfers have more precise timing but currently do not handle bus
errors properly)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.is_ready">
<code class="descclassname">I2C.</code><code class="descname">is_ready</code><span class="sig-paren">(</span><em>addr</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an I2C device responds to the given address.  Only valid when in master mode.</p>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.mem_read">
<code class="descclassname">I2C.</code><code class="descname">mem_read</code><span class="sig-paren">(</span><em>data</em>, <em>addr</em>, <em>memaddr</em>, <em>*</em>, <em>timeout=5000</em>, <em>addr_size=8</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.mem_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from the memory of an I2C device:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">data</span></code> can be an integer (number of bytes to read) or a buffer to read into</li>
<li><code class="docutils literal"><span class="pre">addr</span></code> is the I2C device address</li>
<li><code class="docutils literal"><span class="pre">memaddr</span></code> is the memory location within the I2C device</li>
<li><code class="docutils literal"><span class="pre">timeout</span></code> is the timeout in milliseconds to wait for the read</li>
<li><code class="docutils literal"><span class="pre">addr_size</span></code> selects width of memaddr: 8 or 16 bits</li>
</ul>
</div></blockquote>
<p>Returns the read data.
This is only valid in master mode.</p>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.mem_write">
<code class="descclassname">I2C.</code><code class="descname">mem_write</code><span class="sig-paren">(</span><em>data</em>, <em>addr</em>, <em>memaddr</em>, <em>*</em>, <em>timeout=5000</em>, <em>addr_size=8</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.mem_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to the memory of an I2C device:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">data</span></code> can be an integer or a buffer to write from</li>
<li><code class="docutils literal"><span class="pre">addr</span></code> is the I2C device address</li>
<li><code class="docutils literal"><span class="pre">memaddr</span></code> is the memory location within the I2C device</li>
<li><code class="docutils literal"><span class="pre">timeout</span></code> is the timeout in milliseconds to wait for the write</li>
<li><code class="docutils literal"><span class="pre">addr_size</span></code> selects width of memaddr: 8 or 16 bits</li>
</ul>
</div></blockquote>
<p>Returns <code class="docutils literal"><span class="pre">None</span></code>.
This is only valid in master mode.</p>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.recv">
<code class="descclassname">I2C.</code><code class="descname">recv</code><span class="sig-paren">(</span><em>recv</em>, <em>addr=0x00</em>, <em>*</em>, <em>timeout=5000</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive data on the bus:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">recv</span></code> can be an integer, which is the number of bytes to receive,
or a mutable buffer, which will be filled with received bytes</li>
<li><code class="docutils literal"><span class="pre">addr</span></code> is the address to receive from (only required in master mode)</li>
<li><code class="docutils literal"><span class="pre">timeout</span></code> is the timeout in milliseconds to wait for the receive</li>
</ul>
</div></blockquote>
<p>Return value: if <code class="docutils literal"><span class="pre">recv</span></code> is an integer then a new buffer of the bytes received,
otherwise the same buffer that was passed in to <code class="docutils literal"><span class="pre">recv</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.send">
<code class="descclassname">I2C.</code><code class="descname">send</code><span class="sig-paren">(</span><em>send</em>, <em>addr=0x00</em>, <em>*</em>, <em>timeout=5000</em><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send data on the bus:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">send</span></code> is the data to send (an integer to send, or a buffer object)</li>
<li><code class="docutils literal"><span class="pre">addr</span></code> is the address to send to (only required in master mode)</li>
<li><code class="docutils literal"><span class="pre">timeout</span></code> is the timeout in milliseconds to wait for the send</li>
</ul>
</div></blockquote>
<p>Return value: <code class="docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pyb.I2C.scan">
<code class="descclassname">I2C.</code><code class="descname">scan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyb.I2C.scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan all I2C addresses from 0x01 to 0x7f and return a list of those that respond.
Only valid when in master mode.</p>
</dd></dl>

</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="pyb.I2C.MASTER">
<code class="descclassname">I2C.</code><code class="descname">MASTER</code><a class="headerlink" href="#pyb.I2C.MASTER" title="Permalink to this definition">¶</a></dt>
<dd><p>for initialising the bus to master mode</p>
</dd></dl>

<dl class="data">
<dt id="pyb.I2C.SLAVE">
<code class="descclassname">I2C.</code><code class="descname">SLAVE</code><a class="headerlink" href="#pyb.I2C.SLAVE" title="Permalink to this definition">¶</a></dt>
<dd><p>for initialising the bus to slave mode</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyb.LED.html" class="btn btn-neutral float-right" title="class LED – LED object" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pyb.ExtInt.html" class="btn btn-neutral" title="class ExtInt – configure I/O pins to interrupt on external events" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2019, Damien P. George, Paul Sokolovsky, OpenMV LLC, and contributors.
      Last updated on 31 Mar 2019.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Ports and Versions</span>
    openmvcam (latest)
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <!--p>
    <dl>
      <dt>Ports</dt>
      
        <dd><a href="//en/latest/unix">unix</a></dd>
      
        <dd><a href="//en/latest/pyboard">pyboard</a></dd>
      
        <dd><a href="//en/latest/wipy">wipy</a></dd>
      
        <dd><a href="//en/latest/esp8266">esp8266</a></dd>
      
        <dd><a href="//en/latest/openmvcam">openmvcam</a></dd>
      
    </dl>
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="//en/latest/openmvcam">latest</a></dd>
      
    </dl>
    <dl>
      <dt>Downloads</dt>
      
        <dd><a href="//en/latest/micropython-openmvcam.pdf">PDF</a></dd>
      
    </dl>
    </p-->
    <dl>
        <dt>Language</dt>
        
          <dd><a href="http://docs.openmv.io">English</a></dd>
        
          <dd><a href="http://doc.singtown.cc/openmv_zh">中文</a></dd>
        
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
        <dd>
          <a href="https://openmv.io">openmv.io</a>
        </dd>
        <dd>
          <a href="http://forums.openmv.io">forums.openmv.io</a>
        </dd>
        <dd>
          <a href="https://github.com/openmv/openmv">github.com/openmv/openmv</a>
        </dd>
        <dd>
          <a href="http://micropython.org">micropython.org</a>
        </dd>
        <dd>
          <a href="http://forum.micropython.org">forum.micropython.org</a>
        </dd>
        <dd>
          <a href="https://github.com/micropython/micropython">github.com/micropython/micropython</a>
        </dd>
    </dl>
  </div>
</div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.9.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>